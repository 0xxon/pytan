'''
valid questions: (need to write savedquestionpoller)

    "ask_saved_question_by_name": {
        "desc": "Ask a saved question by referencing the name of a saved question in a string.",
        "priority": "1",
        "method": "ask",
        "args": {
            "qtype": "saved",
            "name": "Installed Applications"
        }
    },
    "ask_saved_question_by_name_in_list": {
        "desc": "Ask a saved question by referencing the name of a saved question in a list of strings.",
        "priority": "1",
        "method": "ask",
        "args": {
            "qtype": "saved",
            "name": ["Installed Applications"]
        }
    },

also need to finish modding actionpoller
'''

actions = handler.get_all('action')
for a in actions:
    if a.target_group.id == 0:
        continue
    g = handler._find(a.target_group)
    print g.to_json(g)
    q = taniumpy.Question()
    q.group = g
    nq = handler._add(q)
    print nq.query_text


def build_q_from_action_target_group(g):
    ng = copy.deepcopy(g)


ng = copy.deepcopy(g)

ng.id = None
ng.sub_groups[0].id = None
ng.sub_groups[0].sub_groups[0].id = None

ng.filters = None
ng.sub_groups[0].filters = None
ng.sub_groups[0].sub_groups[0].sub_groups = None

q = taniumpy.Question()
q.group = ng
nq = handler._add(q)
print nq.query_text

#File bug with 6.5 not allowing groups with id's to be used in questions
